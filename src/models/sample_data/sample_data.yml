version: 2

models:
  - name: hai_customers
    columns:
      - name: customerid
        tests:
          - not_null
          - unique
          - dbt_utils.sequential_values:
              interval: 1
      - name: country
        tests:
          - accepted_values:
              values: 
                - "A"
                - "B"
                - "C"
  - name: hai_orders
    tests:
      - dbt_utils.equal_rowcount:
          compare_model: ref('hai_orders_refactored')
      - dbt_utils.fewer_rows_than:
          compare_model: ref('hai_orders_refactored')

  - name: hai_employees
    tests:
    - dbt_utils.unique_combination_of_columns:
        combination_of_columns:
          - name
          - birthdate
